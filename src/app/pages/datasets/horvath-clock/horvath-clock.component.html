<div class="page main-page">
  <div class="page__inner __pb-60">
    <div class="page horvath-clock-page">
      <div class="page__inner __pb-60">
        <div class="text-page__header wrapper">
          <div class="container">
            <div class="row no-gutters">
              <div class="col-12">
                <div class="page__title">
                  <h1>{{ "horvath_clock_page_title" | translate }}</h1>
                </div>
                <div class="header__description">
                  {{ 'horvath_clock_page_description' | translate }}
                  (DOI: <a href="http://doi.org/10.1038/s41576-018-0004-3"
                           target="_blank"
                           class="link link--underline"
                >10.1038/s41576-018-0004-3</a>)
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="container">
          <div class="row">
            <ng-container *ngIf="isAvailable; else errorMessage">
              <div class="col-12">
                <app-search [searchHintsList]="searchedGenes"
                            placeholder="search_field_start_typing"
                            (isAnyQueryToSubmit)="updateGenesList($event)"
                            (searchQuery)="setSearchQuery($event)">
                </app-search>

                <app-genes-methylation-list
                  *ngIf="genes"
                  [genesList]="confirmedGenesList"
                  (loaded)="setIsGenesListLoaded($event)">
                </app-genes-methylation-list>

                <!-- When content is loading -->
                <app-spinner *ngIf="!genesListIsLoaded" class="__mt-10 __mb-10"></app-spinner>
              </div>
            </ng-container>
          </div>
        </div>
      </div>
    </div>

    <ng-template #errorMessage>
      <section class="col-12">
        <app-no-content size="small" [title]="'error_connection'">
          <ng-container icon>
            <app-icon icon="default" size="custom" customWidth="100%" customHeight="100%"></app-icon>
          </ng-container>
          <ng-container description>
            <p>({{ errorStatus }})</p>
          </ng-container>
        </app-no-content>
      </section>
    </ng-template>
  </div>
</div>

